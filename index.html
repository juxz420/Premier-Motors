<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="version" content="2.0.0">
    <meta name="theme-color" content="#000000">
    <meta name="description" content="Premier Motors - import, rejestracja i sprzedaż samochodów i motocykli premium. Pełne wsparcie w zakresie dokumentacji i finansowania.">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Premier Motors - Motoryzacja Premium">
    <meta property="og:description" content="Import, rejestracja i sprzedaż samochodów i motocykli premium. Pełne wsparcie w zakresie dokumentacji i finansowania.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://premiermotors.pl">
    <meta property="og:image" content="https://premiermotors.pl/images/oferty/bmw-m3/IMG_8428.JPG">
    <meta property="og:locale" content="pl_PL">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Premier Motors - Motoryzacja Premium">
    <meta name="twitter:description" content="Import, rejestracja i sprzedaż samochodów i motocykli premium.">
    <meta name="twitter:image" content="https://premiermotors.pl/images/oferty/bmw-m3/IMG_8428.JPG">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XXXXXXXXXX');
    </script>
    
    <title>Premier Motors - Motoryzacja Premium</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
    
    <!-- Preconnect for faster font loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Critical inline CSS -->
    <style>
        :root{--primary-dark:#000;--primary-black:#0a0a0a;--gold:#d4af37;--light-bg:#f9f9f9;--card-bg:#fff;--text-dark:#1a1a1a;--text-light:#808080;--border-color:#e8e8e8}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Perpetua',Georgia,serif;line-height:1.6;color:var(--text-dark);background:#fff;overflow-x:hidden}header{background:var(--primary-black);color:#fff;padding:30px 0;position:sticky;top:0;z-index:100}.header-container{max-width:1400px;margin:0 auto;padding:0 40px;display:flex;justify-content:space-between;align-items:center}.skeleton{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0 50%,#f0f0f0 75%);background-size:1000px 100%;animation:shimmer 2s infinite}@keyframes shimmer{0%{background-position:-1000px 0}100%{background-position:1000px 0}}
    </style>
    
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700;800;900&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    
    <script src="config.js"></script>
    <!-- Google Maps API -->
    <script>
        // Dynamiczne ładowanie Google Maps API
        function loadGoogleMapsAPI() {
            return new Promise((resolve, reject) => {
                if (window.google && window.google.maps) {
                    resolve();
                    return;
                }
                
                const script = document.createElement('script');
                script.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_CONFIG.apiKey}&libraries=places&language=${GOOGLE_CONFIG.language}`;
                script.async = true;
                script.defer = true;
                script.onload = resolve;
                script.onerror = reject;
                document.head.appendChild(script);
            });
        }
    </script>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="header-brand">
                <h1><a href="index.html" style="color:inherit; text-decoration:none;">Premier Motors</a></h1>
            </div>
            <nav>
                <ul>
                    <li><a href="realizacje.html">Realizacje</a></li>
                    <li><a href="oferty.html">Oferty</a></li>
                    <li><a href="#about">O nas</a></li>
                    <li><a href="#reviews">Opinie</a></li>
                    <li><a href="#contact">Kontakt</a></li>
                </ul>
            </nav>
            <div class="hamburger" onclick="toggleMobileMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </header>

    <!-- Mobile Menu Overlay -->
    <div class="menu-overlay" onclick="toggleMobileMenu()"></div>

    <main>
        <section class="hero">
            <video class="hero-video" muted loop playsinline preload="none" poster="images/video-poster.jpg" data-src="video/hero-video.mp4">
                <!-- Video zostanie załadowane automatycznie przez lazy loading -->
            </video>
            <div class="hero-content">
                <h1 class="hero-title">Premier Motors</h1>
                <p class="hero-subtitle">Import pojazdów z Japonii</p>
            </div>
        </section>

                <section class="section offers-preview">
                        <div class="container">
                                <h2>Poznaj aktualne oferty</h2>
                                <div class="offers-grid">
                                </div>
                                <div style="text-align:center;margin-top:30px;">
                                        <a class="btn" href="oferty.html">Zobacz wszystkie oferty</a>
                                </div>

                                <script id="offers-data" type="application/json">
[
    {
        "id": 101,
        "title": "BMW M3 E92 2008",
        "price": "129 000 zł",
        "image": "images/oferty/bmw-m3/IMG_8428.JPG",
        "url": "oferty.html#BMW-M3-E92-2008"
    },
    {
        "id": 102,
        "title": "R1200 GS Triple Black 2016",
        "price": "62 000 zł",
        "image": "images/oferty/r1200-gs/IMG_8474.JPG",
        "url": "oferty.html#R1200-GS-2016"
    }
]
                                </script>
                                
                                <script>
                                    // Render featured offers
                                    document.addEventListener('DOMContentLoaded', function() {
                                        const offersData = JSON.parse(document.getElementById('offers-data').textContent);
                                        const offersGrid = document.querySelector('.offers-grid');
                                        
                                        offersGrid.innerHTML = offersData.map(offer => `
                                            <div class="offer-card scroll-reveal-scale">
                                                <a href="${offer.url}">
                                                    <img src="${offer.image}" alt="${offer.title}" loading="eager" decoding="async" fetchpriority="high">
                                                    <div class="offer-info">
                                                        <h3>${offer.title}</h3>
                                                        <p class="offer-price">${offer.price}</p>
                                                    </div>
                                                </a>
                                            </div>
                                        `).join('');
                                    });
                                </script>
                        </div>
                </section>

        <section id="about" class="section about-section scroll-reveal">
            <div class="container">
                <div class="about-content">
                    <div class="about-text scroll-reveal-left">
                        <h2>O Nas</h2>
                        <p>W Premier Motors wierzymy, że motoryzacja to coś więcej niż zakup pojazdu. To spełnienie marzeń, emocje i historia, którą tworzymy wspólnie z Tobą. Pomagamy wybrać samochód lub motocykl idealnie dopasowany do Twoich oczekiwań, stylu życia i pasji.</p>
                        <p>Nasza współpraca nie kończy się na przekazaniu kluczyków, to dopiero początek drogi. Zapraszamy Cię do świata Premier Motors, miejsca stworzonego dla ludzi, którzy kochają motoryzację tak samo jak my.</p>
                    </div>
                    <div class="about-features scroll-reveal-right">
                        <div class="feature">
                            <h3>Przykład</h3>
                            <p>Przykład</p>
                        </div>
                        <div class="feature">
                            <h3>Przykład</h3>
                            <p>Przykład</p>
                        </div>
                        <div class="feature">
                            <h3>Przykład</h3>
                            <p>Przykład</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="reviews" class="section reviews-section scroll-reveal">
            <div class="container">
                <h2>Opinie Naszych Klientów</h2>
                
                <!-- Google Reviews Summary -->
                <div class="google-reviews-summary">
                    <div class="reviews-header">
                        <img src="https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png" alt="Google" class="google-logo">
                        <div class="rating-summary">
                            <div class="stars" id="summary-stars"></div>
                            <div class="rating-text" id="summary-text"></div>
                        </div>
                        <a href="#" id="google-reviews-link" target="_blank" rel="noopener" class="google-reviews-link">
                            Zobacz wszystkie opinie na Google
                        </a>
                    </div>
                </div>

                <!-- Reviews Grid - dynamically loaded -->
                <div id="reviews-container" class="reviews-container">
                    <p style="text-align: center; padding: 40px; color: #666;">Ładowanie opinii...</p>
                </div>
            </div>
        </section>

        <script>
            // Format date to relative time in Polish
            function formatRelativeTime(timestamp) {
                const now = new Date();
                const reviewDate = new Date(timestamp * 1000);
                const diffTime = Math.abs(now - reviewDate);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                
                if (diffDays < 7) {
                    return `${diffDays} ${diffDays === 1 ? 'dzień' : 'dni'} temu`;
                } else if (diffDays < 30) {
                    const weeks = Math.floor(diffDays / 7);
                    return `${weeks} ${weeks === 1 ? 'tydzień' : weeks < 5 ? 'tygodnie' : 'tygodni'} temu`;
                } else if (diffDays < 365) {
                    const months = Math.floor(diffDays / 30);
                    return `${months} ${months === 1 ? 'miesiąc' : months < 5 ? 'miesiące' : 'miesięcy'} temu`;
                } else {
                    const years = Math.floor(diffDays / 365);
                    return `${years} ${years === 1 ? 'rok' : years < 5 ? 'lata' : 'lat'} temu`;
                }
            }
            
            // Get avatar letter from name
            function getAvatarLetter(name) {
                return name.charAt(0).toUpperCase();
            }
            
            // Generate stars HTML
            function generateStars(rating) {
                const fullStars = Math.floor(rating);
                const hasHalfStar = rating % 1 >= 0.5;
                let starsHTML = '';
                
                for (let i = 0; i < 5; i++) {
                    if (i < fullStars) {
                        starsHTML += '<span class="star filled">★</span>';
                    } else if (i === fullStars && hasHalfStar) {
                        starsHTML += '<span class="star half">★</span>';
                    } else {
                        starsHTML += '<span class="star">★</span>';
                    }
                }
                
                return starsHTML;
            }
            
            // Load reviews from Google Places API
            async function loadGoogleReviews() {
                const container = document.getElementById('reviews-container');
                
                try {
                    // Sprawdź konfigurację
                    if (!GOOGLE_CONFIG.apiKey || GOOGLE_CONFIG.apiKey === 'YOUR_GOOGLE_MAPS_API_KEY') {
                        throw new Error('Brak klucza API Google Maps. Skonfiguruj config.js');
                    }
                    
                    if (!GOOGLE_CONFIG.placeId || GOOGLE_CONFIG.placeId === 'YOUR_PLACE_ID') {
                        throw new Error('Brak Place ID. Skonfiguruj config.js');
                    }
                    
                    // Załaduj Google Maps API
                    await loadGoogleMapsAPI();
                    
                    // Utwórz serwis map (wymagane przez Places API)
                    const map = new google.maps.Map(document.createElement('div'));
                    const service = new google.maps.places.PlacesService(map);
                    
                    // Pobierz szczegóły miejsca z opiniami
                    service.getDetails({
                        placeId: GOOGLE_CONFIG.placeId,
                        fields: ['name', 'rating', 'user_ratings_total', 'reviews', 'url']
                    }, (place, status) => {
                        if (status === google.maps.places.PlacesServiceStatus.OK) {
                            // Aktualizuj podsumowanie
                            const rating = place.rating || 0;
                            const totalReviews = place.user_ratings_total || 0;
                            
                            document.getElementById('summary-stars').innerHTML = generateStars(rating);
                            document.getElementById('summary-text').innerHTML = 
                                `<strong>${rating.toFixed(1)}</strong> na podstawie <strong>${totalReviews} opinii</strong>`;
                            document.getElementById('google-reviews-link').href = place.url || '#';
                            
                            // Filtruj i posortuj opinie
                            let reviews = place.reviews || [];
                            
                            // Filtruj według minimalnej oceny
                            reviews = reviews.filter(r => r.rating >= GOOGLE_CONFIG.minRating);
                            
                            // Sortuj
                            if (GOOGLE_CONFIG.sortBy === 'newest') {
                                reviews.sort((a, b) => b.time - a.time);
                            }
                            // 'most_relevant' to domyślna kolejność z API
                            
                            // Ogranicz liczbę
                            reviews = reviews.slice(0, GOOGLE_CONFIG.maxReviews);
                            
                            if (reviews.length === 0) {
                                container.innerHTML = '<p style="text-align: center; padding: 40px; color: #666;">Brak opinii spełniających kryteria.</p>';
                                return;
                            }
                            
                            // Wyświetl opinie
                            container.innerHTML = reviews.map(review => {
                                const avatar = getAvatarLetter(review.author_name);
                                const stars = generateStars(review.rating);
                                const relativeTime = formatRelativeTime(review.time);
                                const text = review.text || 'Brak treści opinii.';
                                
                                return `
                                    <div class="review-card">
                                        <div class="review-header">
                                            <div class="reviewer-info">
                                                <div class="reviewer-avatar">${avatar}</div>
                                                <div>
                                                    <div class="reviewer-name">${review.author_name}</div>
                                                    <div class="review-date">${relativeTime}</div>
                                                </div>
                                            </div>
                                            <div class="review-stars">
                                                ${stars}
                                            </div>
                                        </div>
                                        <p class="review-text">${text}</p>
                                        <img src="https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png" alt="Google" class="review-source">
                                    </div>
                                `;
                            }).join('');
                            
                        } else {
                            throw new Error(`Błąd Google Places API: ${status}`);
                        }
                    });
                    
                } catch (error) {
                    console.error('Błąd ładowania opinii z Google:', error);
                    container.innerHTML = `
                        <div style="text-align: center; padding: 40px;">
                            <p style="color: #dc0000; font-weight: bold;">Nie udało się załadować opinii z Google</p>
                            <p style="color: #666; font-size: 14px; margin-top: 10px;">${error.message}</p>
                            <p style="color: #666; font-size: 14px; margin-top: 20px;">
                                Upewnij się, że:<br>
                                1. Klucz API Google Maps jest prawidłowy<br>
                                2. Place ID jest poprawny<br>
                                3. Places API jest włączone w Google Cloud Console
                            </p>
                        </div>
                    `;
                }
            }
            
            // Załaduj opinie po załadowaniu strony
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', loadGoogleReviews);
            } else {
                loadGoogleReviews();
            }
        </script>
        </section>

        <section id="contact" class="section contact-section scroll-reveal">
            <div class="container">
                <h2>Kontakt</h2>
                <div class="contact-content">
                    <p>Email: <a href="mailto:info@premiermotors.pl">dawaj@maila.com</a></p>
                    <p>Telefon: <a href="tel:+48XXX XXX XXX">+48 XXX XXX XXX</a></p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container footer-container">
            <div class="footer-address">
                <h4>Premier Motors</h4>
                <address>
                    ul. wysrana 2137<br>
                    1111-1111 krakow<br>
                    Polska
                </address>
            </div>
            <div class="footer-social">
                <h4>Kontakt &amp; Social</h4>
                <div class="social-links">
                    <a href="https://www.facebook.com/" target="_blank" rel="noopener" aria-label="Facebook" class="social-link">
                        <svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M22 12.07C22 6.48 17.52 2 11.93 2S2 6.48 2 12.07c0 4.99 3.66 9.13 8.44 9.93v-7.03H7.9v-2.9h2.54V9.41c0-2.5 1.49-3.88 3.77-3.88 1.09 0 2.23.2 2.23.2v2.45h-1.25c-1.23 0-1.61.77-1.61 1.56v1.86h2.74l-.44 2.9h-2.3v7.03C18.34 21.2 22 17.06 22 12.07z"/>
                        </svg>
                    </a>
                    <a href="https://www.instagram.com/premiermotorspoland/" target="_blank" rel="noopener" aria-label="Instagram" class="social-link">
                        <svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M7 2C4.24 2 2 4.24 2 7v10c0 2.76 2.24 5 5 5h10c2.76 0 5-2.24 5-5V7c0-2.76-2.24-5-5-5H7zm10 2c1.65 0 3 1.35 3 3v10c0 1.65-1.35 3-3 3H7c-1.65 0-3-1.35-3-3V7c0-1.65 1.35-3 3-3h10zM12 7.5A4.5 4.5 0 1 0 12 16.5 4.5 4.5 0 1 0 12 7.5zm0 2a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5zm4.75-3.25a.9.9 0 1 1 0 1.8.9.9 0 0 1 0-1.8z"/>
                        </svg>
                    </a>
                    <a href="https://www.tiktok.com/" target="_blank" rel="noopener" aria-label="TikTok" class="social-link">
                        <svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
        <div class="container" style="margin-top:18px; text-align:center;">
            <p>&copy; 2025 Premier Motors. Wszystkie prawa zastrzeżone.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Scroll Animation
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('revealed');
                }
            });
        }, observerOptions);

        // Observe all elements with scroll-reveal classes
        document.querySelectorAll('.scroll-reveal, .scroll-reveal-left, .scroll-reveal-right, .scroll-reveal-scale').forEach(el => {
            observer.observe(el);
        });

        // Register Service Worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered:', registration.scope);
                    })
                    .catch(error => {
                        console.log('Service Worker registration failed:', error);
                    });
            });
        }

        // Advanced lazy loading with Intersection Observer
        if ('IntersectionObserver' in window) {
            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        
                        // Load high-res image
                        if (img.dataset.src) {
                            img.src = img.dataset.src;
                        }
                        
                        // Load srcset for responsive images
                        if (img.dataset.srcset) {
                            img.srcset = img.dataset.srcset;
                        }
                        
                        img.classList.add('loaded');
                        imageObserver.unobserve(img);
                    }
                });
            }, {
                rootMargin: '50px 0px',
                threshold: 0.01
            });

            // Observe all lazy images
            document.querySelectorAll('img[loading="lazy"]').forEach(img => {
                imageObserver.observe(img);
            });
        }

        // Sticky header on scroll
        let lastScroll = 0;
        const header = document.querySelector('header');
        
        window.addEventListener('scroll', () => {
            const currentScroll = window.pageYOffset;
            
            if (currentScroll > 100) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
            
            lastScroll = currentScroll;
        });

        // Lazy loading for hero video
        const heroVideo = document.querySelector('.hero-video');
        if (heroVideo && heroVideo.dataset.src) {
            const videoObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const video = entry.target;
                        const source = document.createElement('source');
                        source.src = video.dataset.src;
                        source.type = 'video/mp4';
                        video.appendChild(source);
                        video.load();
                        
                        // Autoplay when loaded
                        video.addEventListener('loadeddata', () => {
                            video.play().catch(err => console.log('Autoplay prevented:', err));
                        });
                        
                        videoObserver.unobserve(video);
                    }
                });
            }, { rootMargin: '100px' });
            
            videoObserver.observe(heroVideo);
        }

        // Mobile menu toggle
        function toggleMobileMenu() {
            const nav = document.querySelector('nav');
            const hamburger = document.querySelector('.hamburger');
            const overlay = document.querySelector('.menu-overlay');
            
            nav.classList.toggle('active');
            hamburger.classList.toggle('active');
            overlay.classList.toggle('active');
        }

        // Close mobile menu when clicking on a link
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', () => {
                const nav = document.querySelector('nav');
                const hamburger = document.querySelector('.hamburger');
                nav.classList.remove('active');
                hamburger.classList.remove('active');
            });
        });
    </script>
    <script src="script.js" defer></script>
    
    <!-- Bottom Navigation (Mobile Only) -->
    <nav class="bottom-nav">
        <a href="index.html" class="bottom-nav-item active">
            <svg viewBox="0 0 24 24" width="24" height="24">
                <path fill="currentColor" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
            </svg>
            <span>Home</span>
        </a>
        <a href="oferty.html" class="bottom-nav-item">
            <svg viewBox="0 0 24 24" width="24" height="24">
                <path fill="currentColor" d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
            </svg>
            <span>Oferty</span>
        </a>
        <a href="realizacje.html" class="bottom-nav-item">
            <svg viewBox="0 0 24 24" width="24" height="24">
                <path fill="currentColor" d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
            </svg>
            <span>Realizacje</span>
        </a>
        <a href="#contact" class="bottom-nav-item">
            <svg viewBox="0 0 24 24" width="24" height="24">
                <path fill="currentColor" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
            </svg>
            <span>Kontakt</span>
        </a>
    </nav>
</body>
</html>